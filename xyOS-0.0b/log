修改了中断处理函数的宏，使之更易拓展。同时真正实现了running_thread()函数。前面的其实没有实现功能，只是运行时没有出错而已。
